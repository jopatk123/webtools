<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>简单测试 - 我的工具箱</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .section { margin: 20px 0; padding: 20px; border: 1px solid #ddd; }
        button { padding: 10px; margin: 5px; background: #007bff; color: white; border: none; cursor: pointer; }
        input { padding: 5px; margin: 5px; }
        .log { background: #f8f9fa; padding: 10px; margin: 10px 0; font-family: monospace; }
    </style>
</head>
<body>
    <h1>简单测试页面</h1>
    
    <div class="log" id="logArea">日志区域...</div>
    
    <div class="section">
        <h2>导航测试</h2>
        <button onclick="showSection('calc')">显示计算器</button>
        <button onclick="showSection('conv')">显示转换器</button>
        <button onclick="showSection('gen')">显示生成器</button>
    </div>
    
    <div id="calc" class="section" style="display:none;">
        <h2>计算器测试</h2>
        <input type="text" id="calcDisplay" readonly>
        <div>
            <button onclick="appendCalc('1')">1</button>
            <button onclick="appendCalc('2')">2</button>
            <button onclick="appendCalc('+')">+</button>
            <button onclick="calculate()">=</button>
            <button onclick="clearCalc()">C</button>
        </div>
    </div>
    
    <div id="conv" class="section" style="display:none;">
        <h2>转换器测试</h2>
        <input type="text" id="hexInput" placeholder="#FF0000">
        <button onclick="convertColor()">转换颜色</button>
        <div id="colorResult"></div>
    </div>
    
    <div id="gen" class="section" style="display:none;">
        <h2>生成器测试</h2>
        <input type="range" id="lengthSlider" min="4" max="20" value="8" oninput="updateLength()">
        <span id="lengthDisplay">8</span>
        <button onclick="generatePassword()">生成密码</button>
        <input type="text" id="passwordResult" readonly>
    </div>
    
    <script>
        function log(message) {
            const logArea = document.getElementById('logArea');
            const time = new Date().toLocaleTimeString();
            logArea.innerHTML += `<br>[${time}] ${message}`;
            console.log(message);
        }
        
        log('页面加载完成');
        
        // 导航功能
        function showSection(sectionId) {
            log('切换到: ' + sectionId);
            document.querySelectorAll('.section').forEach(s => {
                if (s.id) s.style.display = 'none';
            });
            document.getElementById(sectionId).style.display = 'block';
        }
        
        // 计算器功能
        let calcExpression = '';
        
        function appendCalc(value) {
            calcExpression += value;
            document.getElementById('calcDisplay').value = calcExpression;
            log('计算器输入: ' + value);
        }
        
        function calculate() {
            try {
                const result = eval(calcExpression);
                document.getElementById('calcDisplay').value = result;
                calcExpression = result.toString();
                log('计算结果: ' + result);
            } catch (error) {
                document.getElementById('calcDisplay').value = '错误';
                calcExpression = '';
                log('计算错误: ' + error.message);
            }
        }
        
        function clearCalc() {
            calcExpression = '';
            document.getElementById('calcDisplay').value = '';
            log('计算器清除');
        }
        
        // 转换器功能
        function convertColor() {
            const hex = document.getElementById('hexInput').value;
            const result = document.getElementById('colorResult');
            result.innerHTML = `<div style="background:${hex}; width:50px; height:50px; display:inline-block;"></div> ${hex}`;
            log('颜色转换: ' + hex);
        }
        
        // 生成器功能
        function updateLength() {
            const length = document.getElementById('lengthSlider').value;
            document.getElementById('lengthDisplay').textContent = length;
        }
        
        function generatePassword() {
            const length = parseInt(document.getElementById('lengthSlider').value);
            const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
            let password = '';
            for (let i = 0; i < length; i++) {
                password += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            document.getElementById('passwordResult').value = password;
            log('生成密码长度: ' + length);
        }
        
        log('所有功能初始化完成');
    </script>
</body>
</html>